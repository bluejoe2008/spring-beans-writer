package cn.csdb.commons.xmlbeans.node.creator;

import java.util.List;

import cn.csdb.commons.xmlbeans.node.value.EntityNode;
import cn.csdb.commons.xmlbeans.node.value.ListEntityNode;
import cn.csdb.commons.xmlbeans.node.value.ValueNode;
import cn.csdb.commons.xmlbeans.writer.NodeCreatorContext;
import cn.csdb.commons.xmlbeans.writer.strategy.NoSuitableBeanWritterFormatException;

public class ListEntityNodeCreator implements EntityNodeCreator<List<?>>
{
	public EntityNode<List<?>> createEntityNode(List<?> value, String nodeId,
			NodeCreatorContext ctx) throws NoSuitableBeanWritterFormatException
	{
		ListEntityNode node = new ListEntityNode();
		node.setNodeId(nodeId);
		node.setValue(value);

		for (Object v : value)
		{
			ValueNode vn = ctx.createValueNode(node, v);
			node.add(vn);
		}

		return node;
	}
}
